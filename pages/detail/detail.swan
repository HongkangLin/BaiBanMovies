<view class="group">
    <!-- å¯¼å…¥æ¨¡æ¿ -->
    <import src="/templates/header.swan" />
    <template is="header" />

    <!-- ç”µå½±ä¿¡æ¯ -->
    <view class="info-box">
        <text class="title">{{movieInfo.title}}</text>
        <view class="flex-box">
            <view class="left">
                <view class="top">
                    <text s-if="{{movieInfo.rating.average==0}}" class="no-score">æš‚æ— è¯„åˆ†</text>
                    <view s-else class="star-box">
                        <block s-for="{{movieInfo.starArr}}">
                            <image class="image" s-if="{{item==1}}" src="../../images/full.png" />
                            <image class="image" s-elif="{{item==3}}" src="../../images/halfStar.jpg" />
                            <image class="image" s-else src="../../images/empty.png" />
                        </block>
                    </view>
                    <text class="score">{{movieInfo.rating.average}}</text>
                    <text class="comments">{{movieInfo.ratings_count}}äººè¯„ä»·</text>
                </view>
                <!-- bottom -->
                <view class="bottom">
                    {{movieInfo.durations[0]}} /
                    <block s-for="{{movieInfo.genres}}">{{item}} /</block>
                    {{movieInfo.directors[0].name}}(å¯¼æ¼”) /
                    <block s-for="{{movieInfo.casts}}">{{item.name}} /</block>
                    {{movieInfo.pubdates[0]}} ä¸Šæ˜ 
                </view>
            </view>
            <view class="right">
                <image src="{{movieInfo.images.small}}" class="poster"/>
            </view>
        </view>
    </view>

    <!-- æ˜¯å¦æƒ³çœ‹æŒ‰é”® -->
    <view class="view-button">
        <view>æƒ³çœ‹</view>
        <view>çœ‹è¿‡</view>
    </view>

    <!-- æ‰€å±é¢‘é“ -->
    <view class="channel-box">
        <view class="title">æ‰€å±é¢‘é“</view>
        <view class="tag-box">
            <view s-for="{{movieInfo.tags}}">
                {{item}}
                <image src="../../images/green_arrow.png" />
            </view>
        </view>
    </view>

    <!-- ç®€ä»‹ -->
    <view class="movie-desc">
        <view class="title">{{movieInfo.title}}çš„å‰§æƒ…ç®€ä»‹</view>
        <view class="desc">
            {{cutSummary}}
            <view s-if="{{cutSummary.length<70}}" bindtap="more" class="more">(æ›´å¤š)</view>
            <view s-if="{{cutSummary.length>=70}}" bindtap="cut" class="cut">(æ”¶èµ·)</view>
        </view>
    </view>

    <!-- å½±äºº -->
    <view class="movie-desc">
        <view class="title">å½±äºº</view>
       
        <scroll-view scroll-x>
            <view class="item">
                <image src="{{movieInfo.directors[0].avatars.small}}"></image>
                <text class='name'>{{movieInfo.directors[0].name}}</text>
                <text class="job">å¯¼æ¼”</text>
            </view>
            <view s-for="{{movieInfo.casts}}" class="item">
                <image src="{{item.avatars.small}}"></image>
                <text class='name'>{{item.name}}</text>
                <text class="job">æ¼”å‘˜</text>
            </view>
        </scroll-view>
    </view>

    <!-- é¢„å‘Šç‰‡ -->
    <view class="movie-desc">
        <view class="title small">
            {{movieInfo.title}}çš„é¢„å‘Šç‰‡({{movieInfo.trailers.length}})ã€è§†é¢‘è¯„è®º(1)å’Œå›¾ç‰‡({{movieInfo.photos_count}})
        </view>
       
        <scroll-view scroll-x>
            <view s-for="{{movieInfo.trailers}}" class="video-item">
                <video src="https://crazynote.v.netease.com/2018/1114/6ef1ea61dfceb3246c6990e1487b2101qt.mp4" controls></video>
            </view>
        </scroll-view>
    </view>

    <!-- è¯„è®ºå¸ƒå±€ -->
    <view class="comment-box">
        <view class="title">{{movieInfo.title}}çš„çŸ­è¯„ ({{movieInfo.comments_count}})</view>
        <view s-for="{{movieInfo.popular_comments}}" class="section">
            <view class="left">
                <image src="{{item.author.avatar}}"></image>
            </view>
            <view class="right">
                <view class="name">
                    {{item.author.name}}
                </view>
                <view class="time">
                    {{item.created_at}}
                </view>
                <view class="content">
                    {{item.content}}
                </view>
                <view class="good">
                    <view class="good-left">
                        ğŸ‘ &nbsp;&nbsp;{{item.useful_count}}
                    </view>
                    <view class="good-right">
                        ...
                    </view>
                </view>
            </view>
        </view>
    </view>

</view>
